declare_args() {
  mds_library_miniable = true
}

config("library_cfg") {
  include_dirs = [ "../../include" ]
}

source_set("libary_src") {
  defines = []

  if (mds_library_miniable) {
    defines += [ "CONFIG_MDS_LIBRARY_MINIABLE=1" ]
  } else {
    defines += [ "CONFIG_MDS_LIBRARY_MINIABLE=0" ]
  }

  sources = [
    "format.c",
    "membuff.c",
    "msglist.c",
    "skiplist.c",
    "string.c",
    "time.c",
    "tree.c",
  ]

  public_configs = [ ":library_cfg" ]
}
